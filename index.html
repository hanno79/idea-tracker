<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idea Tracker</title>
    <style>
        :root {
            --bg-dark: #0f0f23;
            --bg-card: #1a1a2e;
            --bg-input: #16213e;
            --primary: #e94560;
            --primary-hover: #ff6b6b;
            --text: #eee;
            --text-muted: #888;
            --green: #10b981;
            --blue: #3b82f6;
            --yellow: #f59e0b;
            --red: #ef4444;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html, body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background-color: var(--bg-dark) !important;
            color: var(--text) !important; 
            min-height: 100vh;
            width: 100%;
        }
        
        /* Login Screen */
        #login-screen { 
            display: flex; align-items: center; justify-content: center; 
            min-height: 100vh; background-color: var(--bg-dark) !important;
            padding: 20px;
        }
        .login-box { 
            background-color: var(--bg-card) !important;
            padding: 30px 25px; border-radius: 12px; 
            box-shadow: 0 8px 32px rgba(0,0,0,0.4); 
            width: 100%; max-width: 360px; 
        }
        .login-box h1 { 
            text-align: center; margin-bottom: 25px; 
            color: var(--primary) !important; 
            font-size: 24px; 
        }
        .login-box input { 
            width: 100%; padding: 14px; margin: 10px 0; 
            border: 2px solid var(--bg-input); border-radius: 8px; 
            background-color: var(--bg-dark) !important; 
            color: var(--text) !important; font-size: 16px; 
        }
        .login-box input:focus { outline: none; border-color: var(--primary); }
        .login-box button { 
            width: 100%; padding: 14px; 
            background-color: var(--primary) !important; 
            color: white !important; 
            border: none; border-radius: 8px; 
            font-size: 16px; cursor: pointer; margin-top: 10px; 
        }
        .login-box button:hover { background-color: var(--primary-hover) !important; }
        .error { color: var(--red) !important; text-align: center; margin-top: 10px; }
        .hidden { display: none !important; }
        
        /* Main App */
        #app-screen { 
            padding: 15px; 
            max-width: 1200px; 
            margin: 0 auto; 
            width: 100%;
        }
        
        header { 
            display: flex; justify-content: space-between; align-items: center; 
            margin-bottom: 20px; padding-bottom: 15px; 
            border-bottom: 1px solid var(--bg-input);
            flex-wrap: wrap;
            gap: 10px;
        }
        header h1 { 
            color: var(--primary) !important; 
            font-size: 20px; 
        }
        .logout-btn { 
            background-color: var(--bg-input) !important; 
            color: var(--text) !important; 
            padding: 10px 16px; border: none; border-radius: 6px; 
            cursor: pointer; font-size: 14px;
        }
        
        /* Stats */
        .stats { 
            display: flex; gap: 8px; margin-bottom: 20px; 
            flex-wrap: wrap; justify-content: center; 
        }
        .stat { 
            background-color: var(--bg-card) !important;
            padding: 12px 14px; border-radius: 8px; 
            text-align: center; min-width: 60px; flex: 1;
        }
        .stat-num { font-size: 22px; font-weight: bold; color: var(--primary) !important; }
        .stat-label { font-size: 10px; color: var(--text-muted); }
        
        /* Filter */
        .filters { 
            display: flex; gap: 6px; margin-bottom: 15px; 
            flex-wrap: wrap; justify-content: center; 
        }
        .filter { 
            background-color: var(--bg-input) !important;
            color: var(--text) !important;
            padding: 8px 12px; border: none; border-radius: 6px; 
            cursor: pointer; text-decoration: none; font-size: 13px;
        }
        .filter.active, .filter:hover { 
            background-color: var(--primary) !important; 
        }
        
        /* Ideas */
        .ideas { display: grid; gap: 12px; }
        .idea { 
            background-color: var(--bg-card) !important;
            padding: 15px; border-radius: 10px; 
            border-left: 4px solid var(--primary) !important; 
            width: 100%;
        }
        .idea h3 { margin-bottom: 8px; color: var(--text) !important; font-size: 17px; }
        .idea .problem { color: var(--primary-hover) !important; margin-bottom: 8px; font-size: 14px; }
        .idea .description { color: #aaa !important; margin-bottom: 8px; font-size: 14px; }
        .idea .solutions { color: var(--green) !important; font-size: 13px; }
        .idea .meta { 
            display: flex; gap: 8px; margin: 10px 0; 
            font-size: 12px; color: var(--text-muted); 
            flex-wrap: wrap; 
        }
        .idea .tag { 
            background-color: var(--bg-input) !important;
            padding: 3px 8px; border-radius: 4px; font-size: 11px; 
        }
        
        /* Status Buttons */
        .status-bar { 
            display: flex; gap: 5px; margin-top: 12px; 
            flex-wrap: wrap; 
        }
        .status-btn { 
            padding: 8px 10px; border: none; border-radius: 4px; 
            cursor: pointer; font-size: 11px; 
            opacity: 0.6; transition: opacity 0.2s; 
            flex: 1; text-align: center; min-width: 60px;
        }
        .status-btn:hover, .status-btn.active { opacity: 1; }
        .status-new { background-color: var(--blue) !important; color: white !important; }
        .status-interesting { background-color: var(--yellow) !important; color: white !important; }
        .status-validated { background-color: var(--green) !important; color: white !important; }
        .status-reject { background-color: var(--red) !important; color: white !important; }
        
        /* Add Form */
        .add-form { 
            background-color: var(--bg-card) !important;
            padding: 15px; border-radius: 10px; 
            margin-bottom: 20px; 
        }
        .add-form h2 { 
            margin-bottom: 12px; font-size: 18px; 
            color: var(--text) !important; 
        }
        .add-form input, .add-form textarea, .add-form select { 
            width: 100%; padding: 12px; margin-bottom: 8px; 
            border: 2px solid var(--bg-input); border-radius: 8px; 
            background-color: var(--bg-dark) !important; 
            color: var(--text) !important; font-size: 14px; 
        }
        .add-form input:focus, .add-form textarea:focus, .add-form select:focus {
            outline: none; border-color: var(--primary);
        }
        .add-form button { 
            background-color: var(--primary) !important; 
            color: white !important; 
            padding: 12px 20px; border: none; border-radius: 8px; 
            cursor: pointer; width: 100%; font-size: 14px;
        }
        .add-form button:hover { background-color: var(--primary-hover) !important; }
        
        /* Extra small screens */
        @media (max-width: 400px) {
            #app-screen { padding: 10px; }
            .login-box { padding: 20px 15px; }
            header h1 { font-size: 18px; }
            .stat { min-width: 50px; padding: 10px 8px; }
            .stat-num { font-size: 18px; }
            .idea { padding: 12px; }
            .idea h3 { font-size: 15px; }
            .status-btn { padding: 6px 4px; font-size: 10px; min-width: 50px; }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen">
        <div class="login-box">
            <h1>üîê Idea Tracker</h1>
            <form id="login-form">
                <input type="password" id="password" placeholder="Passwort eingeben" required>
                <button type="submit">Login</button>
            </form>
            <p class="error hidden" id="login-error">Falsches Passwort</p>
        </div>
    </div>
    
    <!-- Main App -->
    <div id="app-screen" class="hidden">
        <header>
            <h1>üí° Idea Tracker</h1>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </header>
        
        <div class="stats">
            <div class="stat"><div class="stat-num" id="stat-total">0</div><div class="stat-label">Total</div></div>
            <div class="stat"><div class="stat-num" id="stat-new">0</div><div class="stat-label">Neu</div></div>
            <div class="stat"><div class="stat-num" id="stat-interesting">0</div><div class="stat-label">Interessant</div></div>
            <div class="stat"><div class="stat-num" id="stat-validated">0</div><div class="stat-label">Validiert</div></div>
            <div class="stat"><div class="stat-num" id="stat-rejected">0</div><div class="stat-label">Verworfen</div></div>
        </div>
        
        <div class="filters">
            <a href="#" class="filter active" data-filter="">Alle</a>
            <a href="#" class="filter" data-filter="new">Neu</a>
            <a href="#" class="filter" data-filter="interesting">Interessant</a>
            <a href="#" class="filter" data-filter="validated">Validiert</a>
            <a href="#" class="filter" data-filter="reject">Verworfen</a>
        </div>
        
        <div class="add-form">
            <h2>‚ûï Neue Idee</h2>
            <form id="add-form">
                <input type="text" id="idea-title" placeholder="Titel" required>
                <input type="text" id="idea-problem" placeholder="Problem" required>
                <textarea id="idea-description" placeholder="Beschreibung (optional)" rows="2"></textarea>
                <input type="text" id="idea-solutions" placeholder="Bestehende L√∂sungen (optional)">
                <input type="text" id="idea-source" placeholder="Quelle (z.B. Research)" required>
                <select id="idea-category">
                    <option value="productivity">Productivity</option>
                    <option value="developer">Developer</option>
                    <option value="business">Business</option>
                    <option value="ai_ml">AI/ML</option>
                    <option value="communication">Communication</option>
                    <option value="security">Security</option>
                </select>
                <button type="submit">Idee hinzuf√ºgen</button>
            </form>
        </div>
        
        <div class="ideas" id="ideas-container"></div>
    </div>

    <script>
        // Config
        const PASSWORD = 'alfred2026';
        
        // Simple storage for ideas (in-browser only)
        let ideas = JSON.parse(localStorage.getItem('ideas')) || [];
        let currentFilter = '';
        
        // Check if already logged in
        if (localStorage.getItem('logged_in') === 'true') {
            showApp();
        }
        
        // Login form
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const password = document.getElementById('password').value;
            if (password === PASSWORD) {
                localStorage.setItem('logged_in', 'true');
                showApp();
            } else {
                document.getElementById('login-error').classList.remove('hidden');
            }
        });
        
        function logout() {
            localStorage.removeItem('logged_in');
            document.getElementById('login-screen').classList.remove('hidden');
            document.getElementById('app-screen').classList.add('hidden');
        }
        
        function showApp() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('app-screen').classList.remove('hidden');
            renderIdeas();
            updateStats();
        }
        
        // Add idea form
        document.getElementById('add-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const newIdea = {
                id: Date.now(),
                title: document.getElementById('idea-title').value,
                problem: document.getElementById('idea-problem').value,
                description: document.getElementById('idea-description').value,
                existing_solutions: document.getElementById('idea-solutions').value,
                source: document.getElementById('idea-source').value,
                category: document.getElementById('idea-category').value,
                status: 'new',
                created_at: new Date().toISOString()
            };
            ideas.unshift(newIdea);
            localStorage.setItem('ideas', JSON.stringify(ideas));
            renderIdeas();
            updateStats();
            document.getElementById('add-form').reset();
        });
        
        // Filter clicks
        document.querySelectorAll('.filter').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('.filter').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentFilter = this.dataset.filter;
                renderIdeas();
            });
        });
        
        function renderIdeas() {
            const container = document.getElementById('ideas-container');
            let filtered = currentFilter ? ideas.filter(i => i.status === currentFilter) : ideas;
            
            if (filtered.length === 0) {
                container.innerHTML = '<p style="text-align:center;color:#666;padding:40px;">Noch keine Ideen vorhanden</p>';
                return;
            }
            
            container.innerHTML = filtered.map(idea => `
                <div class="idea">
                    <h3>${idea.title}</h3>
                    <p class="problem">Problem: ${idea.problem}</p>
                    ${idea.description ? `<p class="description">${idea.description}</p>` : ''}
                    ${idea.existing_solutions ? `<p class="solutions">‚¨° ${idea.existing_solutions}</p>` : ''}
                    <div class="meta">
                        <span>üìÖ ${new Date(idea.created_at).toLocaleDateString('de-DE')}</span>
                        ${idea.source ? `<span>üìå ${idea.source}</span>` : ''}
                        ${idea.category ? `<span class="tag">${idea.category}</span>` : ''}
                    </div>
                    <div class="status-bar">
                        <button class="status-btn status-new ${idea.status === 'new' ? 'active' : ''}" 
                            onclick="setStatus(${idea.id}, 'new')">Neu</button>
                        <button class="status-btn status-interesting ${idea.status === 'interesting' ? 'active' : ''}" 
                            onclick="setStatus(${idea.id}, 'interesting')">Interessant</button>
                        <button class="status-btn status-validated ${idea.status === 'validated' ? 'active' : ''}" 
                            onclick="setStatus(${idea.id}, 'validated')">Validiert</button>
                        <button class="status-btn status-reject ${idea.status === 'reject' ? 'active' : ''}" 
                            onclick="setStatus(${idea.id}, 'reject')">Verwerfen</button>
                    </div>
                </div>
            `).join('');
        }
        
        function setStatus(id, status) {
            const idea = ideas.find(i => i.id === id);
            if (idea) {
                idea.status = status;
                localStorage.setItem('ideas', JSON.stringify(ideas));
                renderIdeas();
                updateStats();
            }
        }
        
        function updateStats() {
            document.getElementById('stat-total').textContent = ideas.length;
            document.getElementById('stat-new').textContent = ideas.filter(i => i.status === 'new').length;
            document.getElementById('stat-interesting').textContent = ideas.filter(i => i.status === 'interesting').length;
            document.getElementById('stat-validated').textContent = ideas.filter(i => i.status === 'validated').length;
            document.getElementById('stat-rejected').textContent = ideas.filter(i => i.status === 'reject').length;
        }
    </script>
</body>
</html>
